<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Lost and Found System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background-color: #f5f5f5; }
        header { background-color: #2c3e50; color: white; padding: 20px; text-align: center; }
        .container { max-width: 1200px; margin: 20px auto; padding: 0 20px; }
        .search-section { background-color: white; padding: 20px; margin-bottom: 20px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .search-bar { display: flex; gap: 10px; margin-bottom: 10px; }
        .search-bar input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
        .search-bar button { padding: 10px 20px; background-color: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .filters { display: flex; gap: 10px; flex-wrap: wrap; }
        .filters select { padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .items-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .item-card { background-color: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.3s; }
        .item-card:hover { transform: translateY(-5px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .item-image { width: 100%; height: 200px; position: relative; cursor: pointer; overflow: hidden; }
        .item-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s; }
        .item-image:hover img { transform: scale(1.1); }
        .zoom-icon { position: absolute; top: 10px; right: 10px; background-color: rgba(0,0,0,0.6); color: white; padding: 8px; border-radius: 50%; opacity: 0; transition: opacity 0.3s; }
        .item-image:hover .zoom-icon { opacity: 1; }
        .item-content { padding: 15px; }
        .item-title { font-size: 18px; font-weight: bold; margin-bottom: 8px; }
        .item-type { display: inline-block; background-color: #e8f4f8; padding: 4px 8px; border-radius: 3px; font-size: 12px; margin-bottom: 10px; }
        .item-details { font-size: 14px; color: #666; margin-bottom: 8px; line-height: 1.6; }
        .item-dates { background-color: #f9f9f9; padding: 10px; border-left: 4px solid #3498db; margin: 10px 0; font-size: 13px; }
        .status-badge { display: inline-block; padding: 6px 10px; border-radius: 20px; font-size: 12px; font-weight: bold; margin: 10px 0; }
        .status-found { background-color: #d4edda; color: #155724; }
        .status-returned { background-color: #cce5ff; color: #004085; }
        .location { color: #e74c3c; font-weight: bold; }
        .contact-section { background-color: #f9f9f9; padding: 10px; border-radius: 4px; margin-top: 10px; }
        .contact-item { font-size: 13px; margin: 5px 0; }
        .btn-group { display: flex; gap: 8px; margin-top: 12px; }
        .btn-group button { flex: 1; padding: 8px; border: none; border-radius: 4px; cursor: pointer; font-size: 13px; }
        .btn-contact { background-color: #27ae60; color: white; }
        .btn-claim { background-color: #3498db; color: white; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); }
        .modal-content { position: relative; margin: auto; padding: 20px; width: 90%; max-width: 800px; top: 50%; transform: translateY(-50%); }
        .modal-image { width: 100%; height: auto; border-radius: 8px; }
        .modal-close { position: absolute; top: 15px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; cursor: pointer; }
        .upload-form { background-color: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
        .image-upload-area { border: 2px dashed #3498db; border-radius: 8px; padding: 30px; text-align: center; background-color: #f8f9fa; cursor: pointer; }
        .preview-container { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 15px; }
        .preview-image { position: relative; width: 120px; height: 120px; border-radius: 8px; overflow: hidden; border: 2px solid #ddd; }
        .preview-image img { width: 100%; height: 100%; object-fit: cover; }
        .remove-preview { position: absolute; top: 5px; right: 5px; background-color: #e74c3c; color: white; border: none; border-radius: 50%; width: 25px; height: 25px; cursor: pointer; }
        .submit-btn { background-color: #27ae60; color: white; padding: 12px 30px; border: none; border-radius: 4px; cursor: pointer; width: 100%; margin-top: 10px; }
        .toggle-form-btn { background-color: #3498db; color: white; padding: 12px 25px; border: none; border-radius: 4px; cursor: pointer; margin-bottom: 20px; }
        @media (max-width: 600px) {
            .item-dates { font-size: 12px; }
            .modal-close { font-size: 32px; right: 20px; }
        }
    </style>
</head>
<body>
    <header>
        <h1>üìå Lost and Found System</h1>
        <p>Help students recover their lost items</p>
    </header>
    
    <div class="container">
        <button class="toggle-form-btn" onclick="toggleForm()">‚ûï Report Found Item</button>
        
        <div class="upload-form" id="uploadForm" style="display: none;">
            <h3>üì∏ Report a Found Item</h3>
            <div class="form-group">
                <label for="itemName">Item Name *</label>
                <input type="text" id="itemName" placeholder="e.g., Blue Wireless Earbuds">
            </div>
            <div class="form-group">
                <label for="itemType">Item Type *</label>
                <select id="itemType">
                    <option value="">Select type</option>
                    <option value="electronics">Electronics</option>
                    <option value="documents">Documents</option>
                    <option value="accessories">Accessories</option>
                    <option value="clothing">Clothing</option>
                </select>
            </div>
            <div class="form-group">
                <label for="itemDesc">Description *</label>
                <textarea id="itemDesc" placeholder="Detailed description..."></textarea>
            </div>
            <div class="form-group">
                <label for="location">Location Found *</label>
                <input type="text" id="location" placeholder="e.g., Cafeteria">
            </div>
            <div class="form-group">
                <label>Upload Photos (Drag & Drop or Click)</label>
                <div class="image-upload-area" id="uploadArea" onclick="document.getElementById('fileInput').click()">
                    <div style="font-size: 48px;">üì∑</div>
                    <p><strong>Click to upload</strong> or drag and drop</p>
                </div>
                <input type="file" id="fileInput" accept="image/*" multiple style="display: none;" onchange="handleFiles(this.files)">
                <div class="preview-container" id="previewContainer"></div>
            </div>
            <div class="form-group">
                <label for="schoolId">Your School ID *</label>
                <input type="text" id="schoolId" placeholder="2024-12345">
            </div>
            <div class="form-group">
                <label for="phone">Contact Number *</label>
                <input type="tel" id="phone" placeholder="09XX-XXX-XXXX">
            </div>
            <button class="submit-btn" onclick="submitItem()">Submit Found Item</button>
        </div>

        <div class="search-section">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search items..." aria-label="Search items">
                <button onclick="searchItems()">Search</button>
            </div>
            <div class="filters">
                <select id="statusFilter" onchange="filterItems()">
                    <option value="">Filter by Status</option>
                    <option value="found">Found</option>
                    <option value="returned">Returned</option>
                </select>
                <select id="typeFilter" onchange="filterItems()">
                    <option value="">Filter by Type</option>
                    <option value="electronics">Electronics</option>
                    <option value="documents">Documents</option>
                    <option value="accessories">Accessories</option>
                    <option value="clothing">Clothing</option>
                </select>
            </div>
        </div>
        
        <div class="items-grid" id="itemsGrid">
            <div class="item-card" data-status="found" data-type="electronics">
                <div class="item-image" onclick="openModal('https://images.unsplash.com/photo-1572569511254-d8f925fe2cbb?w=800')">
                    <img src="https://images.unsplash.com/photo-1572569511254-d8f925fe2cbb?w=400" alt="Earbuds">
                    <div class="zoom-icon">üîç</div>
                </div>
                <div class="item-content">
                    <div class="item-type">Electronics</div>
                    <div class="item-title">Blue Wireless Earbuds</div>
                    <div class="item-details">Apple AirPods with charging case.</div>
                    <div class="item-dates">üìÖ Found: Nov 16, 2024</div>
                    <div class="status-badge status-found">Found - Not Claimed</div>
                    <div class="location">üìç Cafeteria Area</div>
                    <div class="contact-section">
                        <strong>Found By:</strong>
                        <div class="contact-item">üìù ID: 2024-12345</div>
                        <div class="contact-item">üìû 09XX-XXX-XXXX</div>
                    </div>
                    <div class="btn-group">
                        <button class="btn-contact" onclick="alert('Contact shared')">Contact</button>
                        <button class="btn-claim" onclick="alert('Claim initiated')">Claim</button>
                    </div>
                </div>
            </div>

            <div class="item-card" data-status="returned" data-type="documents">
                <div class="item-image" onclick="openModal('https://images.unsplash.com/photo-1589399431857-20dae0ac70d7?w=800')">
                    <img src="https://images.unsplash.com/photo-1589399431857-20dae0ac70d7?w=400" alt="ID Card">
                    <div class="zoom-icon">üîç</div>
                </div>
                <div class="item-content">
                    <div class="item-type">Documents</div>
                    <div class="item-title">Student ID Card</div>
                    <div class="item-details">Found in Library.</div>
                    <div class="item-dates">üìÖ Found: Nov 11, 2024<br>üìÖ Returned: Nov 12, 2024</div>
                    <div class="status-badge status-returned">Returned</div>
                    <div class="location">üìç Library - 2nd Floor</div>
                </div>
            </div>

            <div class="item-card" data-status="found" data-type="accessories">
                <div class="item-image" onclick="openModal('https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=800')">
                    <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400" alt="Backpack">
                    <div class="zoom-icon">üîç</div>
                </div>
                <div class="item-content">
                    <div class="item-type">Accessories</div>
                    <div class="item-title">Black Backpack</div>
                    <div class="item-details">Medium-sized with laptop compartment.</div>
                    <div class="item-dates">üìÖ Found: Nov 18, 2024</div>
                    <div class="status-badge status-found">Found - Not Claimed</div>
                    <div class="location">üìç Gymnasium</div>
                    <div class="contact-section">
                        <strong>Found By:</strong>
                        <div class="contact-item">üìù ID: 2024-54321</div>
                    </div>
                    <div class="btn-group">
                        <button class="btn-contact" onclick="alert('Contact shared')">Contact</button>
                        <button class="btn-claim" onclick="alert('Claim initiated')">Claim</button>
                    </div>
                </div>
            </div>

            <div class="item-card" data-status="found" data-type="electronics">
                <div class="item-image" onclick="openModal('https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=800')">
                    <img src="https://images.unsplash.com/photo-1585060544812-6b45742d762f?w=400" alt="Watch">
                    <div class="zoom-icon">üîç</div>
                </div>
                <div class="item-content">
                    <div class="item-type">Electronics</div>
                    <div class="item-title">Black Smart Watch</div>
                    <div class="item-details">Apple Watch found in Computer Lab.</div>
                    <div class="item-dates">üìÖ Found: Nov 20, 2024</div>
                    <div class="status-badge status-found">Found - Not Claimed</div>
                    <div class="location">üìç Computer Lab 3</div>
                    <div class="btn-group">
                        <button class="btn-contact" onclick="alert('Contact shared')">Contact</button>
                        <button class="btn-claim" onclick="alert('Claim initiated')">Claim</button>
                    </div>
                </div>
            </div>

            <div class="item-card" data-status="found" data-type="clothing">
                <div class="item-image" onclick="openModal('https://images.unsplash.com/photo-1551028719-00167b16eac5?w=800')">
                    <img src="https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400" alt="Jacket">
                    <div class="zoom-icon">üîç</div>
                </div>
                <div class="item-content">
                    <div class="item-type">Clothing</div>
                    <div class="item-title">Red Sports Jacket</div>
                    <div class="item-details">Nike jacket, size medium.</div>
                    <div class="item-dates">üìÖ Found: Nov 19, 2024</div>
                    <div class="status-badge status-found">Found - Not Claimed</div>
                    <div class="location">üìç Sports Complex</div>
                    <div class="btn-group">
                        <button class="btn-contact" onclick="alert('Contact shared')">Contact</button>
                        <button class="btn-claim" onclick="alert('Claim initiated')">Claim</button>
                    </div>
                </div>
            </div>

            <div class="item-card" data-status="found" data-type="accessories">
                <div class="item-image" onclick="openModal('https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=800')">
                    <img src="https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=400" alt="Sunglasses">
                    <div class="zoom-icon">üîç</div>
                </div>
                <div class="item-content">
                    <div class="item-type">Accessories</div>
                    <div class="item-title">Black Sunglasses</div>
                    <div class="item-details">Ray-Ban style with black frames.</div>
                    <div class="item-dates">üìÖ Found: Nov 18, 2024</div>
                    <div class="status-badge status-found">Found - Not Claimed</div>
                    <div class="location">üìç Parking Lot B</div>
                    <div class="btn-group">
                        <button class="btn-contact" onclick="alert('Contact shared')">Contact</button>
                        <button class="btn-claim" onclick="alert('Claim initiated')">Claim</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="imageModal" class="modal" onclick="closeModal()" aria-hidden="true" role="dialog" aria-label="Image preview">
        <span class="modal-close" onclick="closeModal(); event.stopPropagation();" role="button" aria-label="Close image preview">&times;</span>
        <div class="modal-content" onclick="event.stopPropagation()">
            <img class="modal-image" id="modalImage" src="" alt="Preview">
        </div>
    </div>

    <script>
        let uploadedFiles = [];

        function toggleForm() {
            const form = document.getElementById('uploadForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }

        function openModal(src) {
            const modal = document.getElementById('imageModal');
            document.getElementById('modalImage').src = src;
            modal.style.display = 'block';
            modal.setAttribute('aria-hidden', 'false');
        }

        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = 'none';
            modal.setAttribute('aria-hidden', 'true');
            document.getElementById('modalImage').src = '';
        }

        // close modal with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        const uploadArea = document.getElementById('uploadArea');
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.backgroundColor = '#d4edda';
        });
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.backgroundColor = '#f8f9fa';
        });
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.backgroundColor = '#f8f9fa';
            handleFiles(e.dataTransfer.files);
        });

        function handleFiles(files) {
            const container = document.getElementById('previewContainer');
            Array.from(files).forEach(file => {
                if (file.type && file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const div = document.createElement('div');
                        div.className = 'preview-image';
                        // store file in dataset for potential future use
                        const img = document.createElement('img');
                        img.src = e.target.result;
                        img.alt = file.name || 'Uploaded image';
                        const removeBtn = document.createElement('button');
                        removeBtn.className = 'remove-preview';
                        removeBtn.type = 'button';
                        removeBtn.innerText = '√ó';
                        removeBtn.title = 'Remove';
                        removeBtn.onclick = () => div.remove();
                        div.appendChild(img);
                        div.appendChild(removeBtn);
                        container.appendChild(div);
                    };
                    reader.readAsDataURL(file);
                    uploadedFiles.push(file);
                }
            });
        }

        function submitItem() {
            const name = document.getElementById('itemName').value.trim();
            const type = document.getElementById('itemType').value;
            const desc = document.getElementById('itemDesc').value.trim();
            const loc = document.getElementById('location').value.trim();
            const id = document.getElementById('schoolId').value.trim();
            const phone = document.getElementById('phone').value.trim();

            if (!name || !type || !desc || !loc || !id || !phone) {
                alert('Please fill all required fields.');
                return;
            }

            // Basic feedback for now. In a real app you'd send this to a server and update the UI.
            alert('Item submitted successfully!');
            // reset form fields
            document.getElementById('itemName').value = '';
            document.getElementById('itemType').value = '';
            document.getElementById('itemDesc').value = '';
            document.getElementById('location').value = '';
            document.getElementById('schoolId').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('previewContainer').innerHTML = '';
            uploadedFiles = [];
            toggleForm();
        }

        function searchItems() {
            const input = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.item-card');
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(input) ? 'block' : 'none';
            });
        }

        function filterItems() {
            const status = document.getElementById('statusFilter').value;
            const type = document.getElementById('typeFilter').value;
            const cards = document.querySelectorAll('.item-card');
            cards.forEach(card => {
                const matchStatus = !status || card.dataset.status === status;
                const matchType = !type || card.dataset.type === type;
                card.style.display = (matchStatus && matchType) ? 'block' : 'none';
            });
        }
    </script>
</body>
</html>